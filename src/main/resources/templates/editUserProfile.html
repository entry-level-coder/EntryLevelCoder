<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head th:replace="partials/header :: header-common"></head>

<body>
<!-- Navigation Bar -->
<div th:replace="partials/navbar :: navbar-light"></div>


<!-- User Profile -->

<div class="container my-5 flex-grown">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">
      <div class="card">
        <div class="card-body">
          <h3 class="card-title">Edit Profile Information</h3>

          <form th:action="@{/users/{id}/update(id=${user.id})}" th:object="${user}" th:method="post">
            <div class="mb-3">
              <label for="firstName" class="form-label">First Name:</label>
              <input type="text" class="form-control" id="firstName" name="firstName" th:field="*{firstName}" required>
            </div>
            <div class="mb-3">
              <label for="lastName" class="form-label">Last Name:</label>
              <input type="text" class="form-control" id="lastName" name="lastName" th:field="*{lastName}" required>
            </div>
            <div class="mb-3">
              <label for="username" class="form-label">Email:</label>
              <input type="email" class="form-control" id="username" name="username" th:field="*{username}" required>
            </div>

            <div class="d-flex justify-content-left">
              <button type="submit" class="btn edit-user-profile-btn">Submit Edit</button>
            </div>
          </form>

          <div class="d-flex justify-content-right">

            <form th:action="@{/users/{id}/delete(id=${user.id})}" th:method="post">
              <button  type="submit"  class="btn btn-danger" onclick="confirmDelete()">Delete Profile</button>
            </form>

          </div>

        </div>
      </div>
    </div>
  </div>
</div>


<!-- Footer -->
<div th:replace="partials/footer :: footer"></div>
<script>
  function confirmDelete() {
    if (confirm("Are you sure you want to delete your profile?")) {
      alert("Your profile has been successfully deleted.");
    } else {
      alert("Profile deletion has been cancelled.");
      return;
    }
  }

</script>
<!--Bootstrap JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>
</html>
